(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{101:function(e,t,r){e.exports={modal__overlay:"modal-overlay_modal__overlay__2neVv"}},13:function(e,t,r){e.exports={wrapper:"orders-feed_wrapper__3EYzT",feed__list:"orders-feed_feed__list__2pydk",feed__wrapper:"orders-feed_feed__wrapper__1ajEx",feed__listItem:"orders-feed_feed__listItem__RAU6g",tracker:"orders-feed_tracker__2gKBA",tracker__ordersWrapper:"orders-feed_tracker__ordersWrapper__2NE9U",tracker__orders:"orders-feed_tracker__orders__1efTL",tracker__orderList:"orders-feed_tracker__orderList__3YhVF",tracker__orderListItem:"orders-feed_tracker__orderListItem__1-Lra",tracker__orderListItemDone:"orders-feed_tracker__orderListItemDone__28ZQg",tracker__info:"orders-feed_tracker__info__2vNqD",tracker__infoText:"orders-feed_tracker__infoText__2Vm_5"}},15:function(e,t,r){e.exports={wrapper:"profile_wrapper__lza97",profile:"profile_profile__8owKd",nav:"profile_nav__6fOaY",list:"profile_list__39LKw",listItem:"profile_listItem__1va1Z",window:"profile_window__3rZ2V",undertitle:"profile_undertitle__GOUp4",buttons:"profile_buttons__2HUu3",error:"profile_error__3XRFT",activeNavLink:"profile_activeNavLink__RvWly",ordersFeed:"profile_ordersFeed__NVUTH"}},17:function(e,t,r){e.exports={container:"ingredient-details_container__23YOC",image:"ingredient-details_image__1-ZcW",title:"ingredient-details_title__-0R-q",nutrients:"ingredient-details_nutrients__3qmBT",nutrient__column:"ingredient-details_nutrient__column__1zg0m"}},193:function(e,t,r){"use strict";r.r(t),r.d(t,"store",(function(){return It}));var n=r(1),c=r.n(n),a=r(39),s=r.n(a),i=r(5),o=r.n(i),l=r(12),d=r(14),u=r(4),_=r(24),j=r.n(_),m=r(11),p=r(0),b=function(){var e=Object(d.h)().pathname;return Object(p.jsx)("header",{className:"".concat(j.a.header),children:Object(p.jsxs)("div",{className:"".concat(j.a.wrapper),children:[Object(p.jsxs)(m.c,{to:"/",className:"".concat(j.a.link," p-4  p-4 "),activeClassName:j.a.linkActive,children:[Object(p.jsx)(u.BurgerIcon,{type:"".concat("/"===e?"primary":"secondary")}),Object(p.jsx)("span",{className:"".concat("/"===e?"text_color_active":"text_color_inactive"," text text_type_main-default  ").concat(j.a.linkText),children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]}),Object(p.jsxs)(m.c,{to:"/feed",className:"".concat(j.a.link),activeClassName:j.a.linkActive,children:[Object(p.jsx)(u.ListIcon,{type:"".concat("/feed"===e?"primary":"secondary")}),Object(p.jsx)("span",{className:"".concat("/feed"===e?"text_color_active":"text_color_inactive"," text text_type_main-default  ").concat(j.a.linkText),children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]}),Object(p.jsx)(m.b,{to:"/",className:"".concat(j.a.logo," p-4  p-4"),children:Object(p.jsx)(u.Logo,{})}),Object(p.jsxs)(m.c,{to:"/profile",className:"".concat(j.a.link),activeClassName:j.a.linkActive,children:[Object(p.jsx)(u.ProfileIcon,{type:"".concat(e.includes("/profile")?"primary":"secondary")}),Object(p.jsx)("span",{className:"".concat(e.includes("/profile")?"text_color_active":"text_color_inactive"," text text_type_main-default ").concat(j.a.linkText),children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})]})})},f=r(45),O=f.c,x=function(){return Object(f.b)()},h=r(2);function g(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function v(e,t,r){var n=(r=Object(h.a)({path:"/"},r)).expires;"number"==typeof n&&n&&(n=r.expires=function(e){var t=new Date;return t.setTime(t.getTime()+1e3*e),+t.toUTCString()}(n));var c=encodeURIComponent(e)+"="+encodeURIComponent(t);for(var a in r){c+="; "+a;var s=r[a];!0!==s&&(c+="="+s)}document.cookie=c}var y=function(e){var t=new Date;return e.slice(0,10)===t.toISOString().slice(0,10)?"\u0421\u0435\u0433\u043e\u0434\u043d\u044f, ".concat(e.slice(11,16)," i-GMT+3"):"".concat(e.slice(0,10),", ").concat(e.slice(11,16)," i-GMT+3")},N="https://norma.nomoreparties.space/api",S="wss://norma.nomoreparties.space/orders",k=function(e){return console.log("in checkResponse"),e.ok?e.json():e.json().then((function(t){return console.log("checkResponse err ",t),Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))}))},E=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N+"/ingredients").then(k);case 2:return t=e.sent,console.log("data ",t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={ingredients:t},n=g("accessToken"),e.next=4,fetch(N+"/orders",{method:"POST",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(n)},body:JSON.stringify(r)}).then(k);case 4:return c=e.sent,console.log("fetch order items ",c),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N+"/password-reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(k);case 2:return r=e.sent,console.log("resetpassword ",r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N+"/password-reset/reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(k);case 2:return r=e.sent,console.log("saveNewPassword ",r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N+"/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(k);case 2:return r=e.sent,console.log("create User ",r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("loginUser "),e.next=3,fetch(N+"/auth/login",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)}).then(k);case 3:return r=e.sent,console.log("login ",r),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(o.a.mark((function e(){var t,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("refreshToken"),r={token:t},e.next=4,fetch(N+"/auth/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(k);case 4:return n=e.sent,console.log("logout user ",n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("i work ",!0),e.next=3,fetch(N+"/auth/user",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer "+g("accessToken")},redirect:"follow",referrerPolicy:"no-referrer"}).then(k);case 3:return t=e.sent,console.log("get user info ",t),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={token:t},e.next=3,fetch(N+"/auth/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(k);case 3:return n=e.sent,console.log("refreshToken ",n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N+"/auth/user",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer "+g("accessToken")},body:JSON.stringify(t)}).then(k);case 2:return r=e.sent,console.log("update user data ",r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F="GET_BURGER_INGREDIENTS_REQUEST",P="GET_BURGER_INGREDIENTS_SUCCESS",B="GET_BURGER_INGREDIENTS_ERROR",L="SEND_ORDER_ITEMS_REQUEST",q="SEND_ORDER_ITEMS_SUCCESS",G="SEND_ORDER_ITEMS_ERROR",z="ADD_BURGER_INGREDIENT",W="DELETE_BURGER_INGREDIENT",J="ADD_BUN",V="CHANGE_INGREDIENTS_POSITION",Q="ADD_ITEM_TO_COUNTER",Y="DELETE_ITEM_FROM_COUNTER",H=function(e){return function(t){t({type:L}),C(e).then((function(e){e&&e.success?(console.log("res order",e.order),console.log("res order number",e.order.number,typeof e.order.number),t({type:q,order:e.order.number})):t({type:G})})).catch((function(e){console.log(e),t({type:B})}))}},X=r(28),K=r(7),Z=r(9),$=r.n(Z),ee="SAVE_PASSWORD_REQUEST",te="SAVE_PASSWORD_SUCCESS",re="SAVE_PASSWORD_ERROR",ne="CREATE_USER_REQUEST",ce="CREATE_USER_SUCCESS",ae="CREATE_USER_ERROR",se="LOGIN_USER_REQUEST",ie="LOGIN_USER_SUCCESS",oe="LOGIN_USER_ERROR",le="GET_USER_SUCCESS",de="GET_USER_REQUEST",ue="GET_USER_ERROR",_e="UPDATE_USER_SUCCESS",je="UPDATE_USER_ERROR",me="REFRESH_TOKEN_REQUEST",pe="REFRESH_TOKEN_SUCCESS",be="REFRESH_TOKEN_ERROR",fe="LOGOUT_SUCCESS",Oe=function(e){var t=e.value,r=e.onChange,c=e.name,a=e.placeholder,s=e.size,i=void 0===s?"default":s,o=Object(n.useState)(!0),l=Object(K.a)(o,2),d=l[0],_=l[1],j=Object(n.useState)(!1),m=Object(K.a)(j,2),b=m[0],f=m[1],O=Object(n.useState)(!1),x=Object(K.a)(O,2),h=x[0],g=x[1],v=Object(n.useRef)(null);return Object(p.jsx)(u.Input,{type:b?"text":"password",placeholder:a,onChange:r,icon:b?"CloseIcon":"EditIcon",value:t,ref:v,onBlur:function(e){e.target.value?function(e){g(e.length<6)}(e.target.value):g(!1),_(!0),f(!1)},onFocus:function(){g(!1)},name:c,error:h,onIconClick:function(){_(!1),f(!0),setTimeout((function(){var e;return null===(e=v.current)||void 0===e?void 0:e.focus()}),0)},errorText:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",size:i,disabled:d})},xe=function(e){var t=e.value,r=e.onChange,c=e.name,a=e.size,s=void 0===a?"default":a,i=Object(n.useState)(!0),o=Object(K.a)(i,2),l=o[0],d=o[1],_=Object(n.useState)(!1),j=Object(K.a)(_,2),m=j[0],b=j[1],f=Object(n.useRef)(null);return Object(p.jsx)(u.Input,{type:"email",placeholder:"Email",onChange:r,icon:l?"EditIcon":"CloseIcon",value:t,ref:f,onBlur:function(e){e.target.value?function(e){b(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))}(e.target.value):b(!1),d(!0)},onFocus:function(){b(!1)},name:c,error:m,disabled:l,onIconClick:function(){d(!1),setTimeout((function(){var e;return null===(e=f.current)||void 0===e?void 0:e.focus()}),0)},errorText:"\u041e\u0439, \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!",size:s})},he=function(){var e,t=Object(n.useState)({email:"",password:""}),r=Object(K.a)(t,2),c=r[0],a=r[1],s=Object(d.g)(),i=Object(d.h)(),_=x(),j=O((function(e){return e.profile.loginUserFailed})),m=O((function(e){return e.profile.errorMessage})),b=O((function(e){return e.profile.isAuthenticated})),f=function(e){a(Object(h.a)(Object(h.a)({},c),{},Object(X.a)({},e.target.name,e.target.value)))},g=Object(n.useCallback)((function(){s.replace({pathname:"/register"})}),[s]),y=Object(n.useCallback)((function(){s.replace({pathname:"/forgot-password"})}),[s]),N=Object(n.useCallback)((function(e){e.preventDefault(),_(function(e){return function(t){t({type:se}),console.log("login user ",e),I(e).then((function(e){e&&e.success?(console.log("success ",e),v("accessToken",e.accessToken.split("Bearer ")[1]),localStorage.setItem("refreshToken",e.refreshToken),Object(l.a)(o.a.mark((function r(){var n;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,M();case 2:!0===(n=r.sent).success?t({type:ie,user:n.user}):t({type:oe,errorMessage:e.message});case 4:case"end":return r.stop()}}),r)})))()):t({type:oe,errorMessage:e.message})})).catch((function(e){console.log(e),t({type:oe})}))}}(c))}),[c,_]);return b?Object(p.jsx)(d.a,{to:(null===(e=i.state)||void 0===e?void 0:e.from)||"/"}):Object(p.jsxs)("div",{className:"".concat($.a.wrapper),children:[Object(p.jsx)("h1",{className:"text text_type_main-medium mb-6 ".concat($.a.title),children:"\u0412\u0445\u043e\u0434"}),j&&Object(p.jsx)("span",{className:"mt-4 mb-4 text text_type_main-default ".concat($.a.error),children:m}),Object(p.jsxs)("form",{action:"",className:"".concat($.a.form),onSubmit:N,children:[Object(p.jsx)("div",{className:"mb-6",children:Object(p.jsx)(xe,{onChange:f,value:c.email,name:"email"})}),Object(p.jsx)("div",{className:"mb-6",children:Object(p.jsx)(Oe,{onChange:f,value:c.password,name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})}),Object(p.jsx)("div",{className:"mb-20",children:Object(p.jsx)(u.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})})]}),Object(p.jsxs)("div",{className:" ".concat($.a.text__wrapper," mb-4"),children:[Object(p.jsx)("span",{className:"text text_type_main-default",children:"\u0412\u044b - \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?"}),Object(p.jsx)("div",{className:"ml-2",children:Object(p.jsx)(u.Button,{type:"secondary",size:"medium",onClick:g,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f?"})})]}),Object(p.jsxs)("div",{className:" ".concat($.a.text__wrapper),children:[Object(p.jsx)("span",{className:"text text_type_main-default",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(p.jsx)("div",{className:"ml-2",children:Object(p.jsx)(u.Button,{type:"secondary",size:"medium",onClick:y,children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})})]})]})},ge=function(e){var t=e.value,r=e.onChange,c=e.name,a=e.placeholder,s=e.size,i=void 0===s?"default":s,o=Object(n.useState)(!0),l=Object(K.a)(o,2),d=l[0],_=l[1],j=Object(n.useState)(!1),m=Object(K.a)(j,2),b=m[0],f=m[1],O=Object(n.useRef)(null);return Object(p.jsx)(u.Input,{type:"text",placeholder:a,onChange:r,icon:d?"EditIcon":"CloseIcon",value:t,ref:O,onBlur:function(){_(!0)},onFocus:function(){f(!1)},name:c,error:b,disabled:d,onIconClick:function(){_(!1),setTimeout((function(){var e;return null===(e=O.current)||void 0===e?void 0:e.focus()}),0)},errorText:"\u041e\u0439, \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!",size:i})},ve=function(){var e,t=Object(n.useState)({email:"",password:"",name:""}),r=Object(K.a)(t,2),c=r[0],a=r[1],s=Object(d.h)(),i=Object(d.g)(),_=x(),j=O((function(e){return e.profile.createUserFailed})),m=O((function(e){return e.profile.errorMessage})),b=O((function(e){return e.profile.isAuthenticated})),f=function(e){a(Object(h.a)(Object(h.a)({},c),{},Object(X.a)({},e.target.name,e.target.value)))},g=Object(n.useCallback)((function(){i.replace({pathname:"/login"})}),[i]),y=Object(n.useCallback)((function(e){e.preventDefault(),console.log("form register ",c),_(function(e){return function(t){t({type:ne}),R(e).then((function(e){e&&e.success?(v("accessToken",e.accessToken.split("Bearer ")[1]),localStorage.setItem("refreshToken",e.refreshToken),Object(l.a)(o.a.mark((function r(){var n;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,M();case 2:!0===(n=r.sent).success?t({type:ce,user:n.user}):t({type:ae,errorMessage:e.message});case 4:case"end":return r.stop()}}),r)})))()):(console.log("create user error ",e),t({type:ae,errorMessage:e.message}))})).catch((function(e){console.log(e),t({type:ae})}))}}(c))}),[c,_]);return b?Object(p.jsx)(d.a,{to:(null===(e=s.state)||void 0===e?void 0:e.from)||"/"}):Object(p.jsxs)("div",{className:"".concat($.a.wrapper),children:[Object(p.jsx)("h1",{className:"text text_type_main-medium mb-6 ".concat($.a.title),children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),j&&Object(p.jsx)("span",{className:"mt-4 mb-4 text text_type_main-default ".concat($.a.error),children:m}),Object(p.jsxs)("form",{action:"",className:"".concat($.a.form),onSubmit:y,children:[Object(p.jsx)("div",{className:"mb-6",children:Object(p.jsx)(ge,{onChange:f,value:c.name,name:"name",placeholder:"\u0418\u043c\u044f"})}),Object(p.jsx)("div",{className:"mb-6",children:Object(p.jsx)(xe,{onChange:f,value:c.email,name:"email"})}),Object(p.jsx)("div",{className:"mb-6",children:Object(p.jsx)(Oe,{onChange:f,value:c.password,name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})}),Object(p.jsx)("div",{className:"mb-20",children:Object(p.jsx)(u.Button,{type:"primary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]}),Object(p.jsxs)("div",{className:" ".concat($.a.text__wrapper," mb-4"),children:[Object(p.jsx)("span",{className:"text text_type_main-default",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(p.jsx)("div",{className:"ml-2",children:Object(p.jsx)(u.Button,{type:"secondary",size:"medium",onClick:g,children:"\u0412\u043e\u0439\u0442\u0438"})})]})]})},ye=function(){var e,t=Object(n.useState)({email:""}),r=Object(K.a)(t,2),c=r[0],a=r[1],s=Object(d.g)(),i=Object(d.h)(),_=Object(n.useState)(!1),j=Object(K.a)(_,2),m=j[0],b=j[1],f=Object(n.useState)(""),x=Object(K.a)(f,2),h=x[0],g=x[1],v=O((function(e){return e.profile.isAuthenticated})),y=Object(n.useCallback)(function(){var e=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,w(c);case 3:!0===(r=e.sent).success?s.push("/reset-password",{resetPasswordRequest:!0}):(g(r.message),b(!0));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c,s]),N=Object(n.useCallback)((function(){s.replace({pathname:"/login"})}),[s]);return v?Object(p.jsx)(d.a,{to:(null===(e=i.state)||void 0===e?void 0:e.from)||"/"}):Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"".concat($.a.wrapper),children:[Object(p.jsx)("h1",{className:"text text_type_main-medium mb-6 ".concat($.a.title),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),m&&Object(p.jsx)("span",{className:"mt-4 mb-4 text text_type_main-default ".concat($.a.error),children:h}),Object(p.jsxs)("form",{action:"",className:"".concat($.a.form),onSubmit:y,children:[Object(p.jsx)("div",{className:"mb-6",children:Object(p.jsx)(xe,{onChange:function(e){a({email:e.target.value})},value:c.email,name:"email"})}),Object(p.jsx)("div",{className:"mb-20",children:Object(p.jsx)(u.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})})]}),Object(p.jsxs)("div",{className:" ".concat($.a.text__wrapper," mb-4"),children:[Object(p.jsx)("span",{className:"text text_type_main-default",children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(p.jsx)("div",{className:"ml-2",children:Object(p.jsx)(u.Button,{type:"secondary",size:"medium",onClick:N,children:"\u0412\u043e\u0439\u0442\u0438"})})]})]})})},Ne=function(){var e,t,r=Object(n.useState)({password:"",token:""}),c=Object(K.a)(r,2),a=c[0],s=c[1],i=Object(d.g)(),o=Object(d.h)(),l=x(),_=O((function(e){return e.profile.savePasswordFailed})),j=O((function(e){return e.profile.errorMessage})),m=O((function(e){return e.profile.isAuthenticated})),b=function(e){s(Object(h.a)(Object(h.a)({},a),{},Object(X.a)({},e.target.name,e.target.value)))},f=Object(n.useCallback)((function(){i.replace({pathname:"/login"})}),[i]),g=Object(n.useCallback)((function(e){e.preventDefault(),l(function(e){return function(t){t({type:ee}),T(e).then((function(e){e&&e.success?t({type:te}):t({type:re,errorMessage:e.message})})).catch((function(e){console.log(e),t({type:re})}))}}(a))}),[l,a]);return m?Object(p.jsx)(d.a,{to:(null===(t=o.state)||void 0===t?void 0:t.from)||"/"}):(null===(e=o.state)||void 0===e?void 0:e.resetPasswordRequest)?Object(p.jsxs)("div",{className:"".concat($.a.wrapper),children:[Object(p.jsx)("h1",{className:"text text_type_main-medium mb-6 ".concat($.a.title),children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0430\u0440\u043e\u043b\u044f"}),_&&Object(p.jsx)("span",{className:"mt-4 mb-4 text text_type_main-default ".concat($.a.error),children:j}),Object(p.jsxs)("form",{action:"",className:"".concat($.a.form),onSubmit:g,children:[Object(p.jsx)("div",{className:"mb-6",children:Object(p.jsx)(Oe,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",onChange:b,value:a.password,name:"password"})}),Object(p.jsx)("div",{className:"mb-6",children:Object(p.jsx)(ge,{onChange:b,value:a.token,name:"token",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430"})}),Object(p.jsx)("div",{className:"mb-20",children:Object(p.jsx)(u.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]}),Object(p.jsxs)("div",{className:" ".concat($.a.text__wrapper," mb-4"),children:[Object(p.jsx)("span",{className:"text text_type_main-default",children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(p.jsx)("div",{className:"ml-2",children:Object(p.jsx)(u.Button,{type:"secondary",size:"medium",onClick:f,children:"\u0412\u043e\u0439\u0442\u0438"})})]})]}):Object(p.jsx)(d.a,{to:"/forgot-password"})},Se=r(15),ke=r.n(Se),Ee="WS_CONNECTION_START",Ce="WS_CONNECTION_SUCCESS",we="WS_CONNECTION_ERROR",Te="WS_CONNECTION_CLOSED",Re="WS_CONNECTION_GET_MESSAGE",Ie=function(){var e=x(),t=O((function(e){return e.profile.user})),r=Object(n.useState)({}),c=Object(K.a)(r,2),a=c[0],s=c[1],i=Object(n.useState)({name:t.name,email:t.email,password:"qazswx"}),_=Object(K.a)(i,2),j=_[0],m=_[1],b=Object(d.g)(),f=O((function(e){return e.profile.updateUserSuccess})),g=O((function(e){return e.profile.errorMessage})),v=function(e){m(Object(h.a)(Object(h.a)({},j),{},Object(X.a)({},e.target.name,e.target.value)))};Object(n.useEffect)((function(){m({name:t.name,email:t.email,password:"qazswx"})}),[t,b]);var y=Object(n.useCallback)(function(){var t=Object(l.a)(o.a.mark((function t(r,n){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(Object(h.a)({},n)),t.next=3,D(r);case 3:!0===(c=t.sent).success?e({type:_e,user:c.user}):e({type:je,errorMessage:c.message});case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),[e]),N=Object(n.useCallback)(function(){var t=Object(l.a)(o.a.mark((function t(r){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(r);case 2:!0===(n=t.sent).success?e({type:_e,user:n.user}):e({type:je,errorMessage:n.message});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]);return Object(p.jsxs)("div",{className:"ml-15 ".concat(ke.a.window),children:[!f&&g&&Object(p.jsx)("span",{className:"mt-4 mb-4 text text_type_main-default ".concat(ke.a.error),children:g}),Object(p.jsx)("div",{className:"mb-6",children:Object(p.jsx)(ge,{placeholder:"\u0418\u043c\u044f",onChange:v,value:j.name,name:"name"})}),Object(p.jsx)("div",{className:"mb-6",children:Object(p.jsx)(xe,{onChange:v,value:j.email,name:"email"})}),Object(p.jsx)("div",{className:"mb-6",children:Object(p.jsx)(Oe,{placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:v,value:j.password,name:"password"})}),Object(p.jsxs)("div",{className:"mt-6 ".concat(ke.a.buttons),children:[Object(p.jsx)("div",{className:"ml-2",children:Object(p.jsx)(u.Button,{type:"secondary",size:"medium",onClick:function(){return N(a)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})}),Object(p.jsx)("div",{className:"ml-2",children:Object(p.jsx)(u.Button,{type:"primary",size:"medium",onClick:function(){return y(j,t)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})},Ue=r(6),Me=r.n(Ue),Ae=function(e){var t=e.number,r=y(e.createdAt),c=e.name,a=e.status,s=O((function(e){return e.ingredients.ingredients})),i=e.ingredients,o=Object(d.g)(),l=Object(d.h)(),_=Object(n.useMemo)((function(){var e=0;return s.forEach((function(t){for(var r=0;r<i.length;r++)t._id===i[r]&&(e+=t.price)})),e}),[s,i]),j=Object(n.useMemo)((function(){var e=[];return s.forEach((function(t){for(var r=0;r<i.length;r++)if(t._id===i[r]){var n=t.image_mobile;e.includes(n)||e.push(n)}})),e.length>5?e.splice(0,5):e}),[s,i]);return Object(p.jsxs)("div",{className:"".concat(Me.a.wrapper," ").concat(Me.a.wrapper__listMode," pr-6 pl-6"),onClick:function(){console.log("location.pathname order ",l.pathname),"/feed"===l.pathname&&o.replace({pathname:"/feed/".concat(e._id),state:{backgroundFeed:l,prevPath:l.pathname}}),"/profile/orders"===l.pathname&&o.replace({pathname:"/profile/orders/".concat(e._id),state:{backgroundProfile:l,prevPath:l.pathname,from:l}})},children:[Object(p.jsx)("span",{className:"text text_type_main-medium ".concat(Me.a.order__number," mt-6"),children:"#".concat(t)}),Object(p.jsx)("span",{className:"text text_type_main-default text_color_inactive ".concat(Me.a.order__date," mt-6"),children:r}),Object(p.jsx)("span",{className:"text text_type_main-medium ".concat(Me.a.order__name," mt-6"),children:c}),"/profile/orders"===l.pathname&&"done"===a&&Object(p.jsx)("span",{className:"text text_type_main-default ".concat(Me.a.order__statusDone," mt-2"),children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"}),"/profile/orders"===l.pathname&&"done"!==a&&Object(p.jsx)("span",{className:"text text_type_main-default ".concat(Me.a.order__status," mt-2"),children:a}),Object(p.jsxs)("div",{className:"".concat(Me.a.order__list," mt-6 mb-6"),children:[Object(p.jsx)("div",{className:"".concat(Me.a.order__listItem," ").concat(Me.a.order__listItemCM),children:j.map((function(e,t){return Object(p.jsx)("img",{alt:"ingredient",src:e,className:"".concat(Me.a.burgerItem__icon," ").concat(Me.a.burgerItem__iconCM)},t)}))}),Object(p.jsxs)("div",{className:"".concat(Me.a.order__price," ml-6 mt-6 mb-6 pt-11 pb-11"),children:[Object(p.jsx)("span",{className:"text text_type_main-medium ".concat(Me.a.order__priceNumber),children:_}),Object(p.jsx)(u.CurrencyIcon,{type:"primary"})]})]})]})},De=function(){var e=O((function(e){return e.orders.orders}));return Object(p.jsx)("div",{className:"ml-15 ".concat(ke.a.ordersFeed," pr-2"),children:e.map((function(e,t){return Object(p.jsx)("div",{className:"mb-6",children:Object(p.jsx)(Ae,{_id:e._id,createdAt:e.createdAt,updatedAt:e.updatedAt,status:e.status,number:e.number,name:e.name,ingredients:e.ingredients})},e._id+t)}))})},Fe=function(){var e=x(),t=Object(d.g)(),r=Object(d.h)(),c=r.pathname,a=g("accessToken"),s=O((function(e){return e.profile.isAuthenticated})),i=O((function(e){return e.profile.getUserError}));Object(n.useEffect)((function(){return e({type:Ee,payload:"".concat(S,"/all?token=").concat(a)}),function(){e({type:Te})}}),[a,e]);var u,_=Object(n.useCallback)(Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U();case 2:!0===t.sent.success&&(v("accessToken","",{expires:-1}),e({type:fe}));case 4:case"end":return t.stop()}}),t)}))),[e]),j=Object(n.useCallback)((function(){_().then((function(){t.replace("/login")}))}),[_,t]);return!s&&i?Object(p.jsx)(d.a,{to:(null===(u=r.state)||void 0===u?void 0:u.from)||"/"}):Object(p.jsxs)("div",{className:ke.a.wrapper,children:[Object(p.jsxs)("div",{className:ke.a.profile,children:[Object(p.jsx)("nav",{className:ke.a.nav,children:Object(p.jsxs)("nav",{className:"pl-4 ".concat(ke.a.list),children:[Object(p.jsx)(m.c,{exact:!0,to:"/profile",className:"text text_type_main-medium text_color_inactive ".concat(ke.a.listItem),activeClassName:ke.a.activeNavLink,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(p.jsx)(m.c,{exact:!0,to:"/profile/orders",className:"text text_type_main-medium text_color_inactive ".concat(ke.a.listItem),activeClassName:ke.a.activeNavLink,children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(p.jsx)(m.c,{to:"/login",onClick:j,className:"text text_type_main-medium text_color_inactive ".concat(ke.a.listItem),activeClassName:ke.a.activeNavLink,children:"\u0412\u044b\u0445\u043e\u0434"})]})}),"/profile"===c&&Object(p.jsx)(Ie,{}),"/profile/orders"===c&&Object(p.jsx)(De,{})]}),Object(p.jsx)("span",{className:"text text_type_main-default text_color_inactive mt-8 ".concat(ke.a.undertitle),children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]})},Pe=r(99),Be=r.n(Pe),Le=r(29),qe=r.n(Le),Ge="ingredient",ze=r(199),We=function(e){var t=e.item,r=0,c=Object(d.g)(),a=Object(d.h)(),s=O((function(e){return e.ingredients.counterIngredients})),i=Object(n.useMemo)((function(){return s.filter((function(e){return e._id===t._id}))}),[s,t._id]);r=void 0!==i[0].counter&&i[0].counter>=1?i[0].counter:0;var o=Object(ze.a)({type:Ge,item:t,collect:function(e){return{isDragging:!!e.isDragging()}}}),l=Object(K.a)(o,2)[1];return Object(p.jsxs)("div",{ref:l,className:"".concat(qe.a.card),onClick:function(){!function(e){c.push({pathname:"/ingredients/".concat(e._id),state:{backgroundIngredients:a}})}(t)},children:[r>0&&Object(p.jsx)(u.Counter,{count:r,size:"default"}),Object(p.jsx)("img",{src:t.image,alt:t.name}),Object(p.jsxs)("span",{className:"".concat(qe.a.price," text text_type_main-default"),children:[t.price," ",Object(p.jsx)(u.CurrencyIcon,{type:"primary"})]}),Object(p.jsx)("span",{className:"".concat(qe.a.text," text text_type_main-default"),children:t.name})]})},Je=function(){var e=c.a.useState("one"),t=Object(K.a)(e,2),r=t[0],a=t[1],s=O((function(e){return e.ingredients.ingredients})),i=[],o=[],l=[],d=Object(n.useRef)(null),_=Object(n.useRef)(null),j=Object(n.useRef)(null),m=Object(n.useRef)(null),b=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=j.current.getBoundingClientRect().y,t=_.current,r=function(e){var t=m.current.getBoundingClientRect().y,r=b.current.getBoundingClientRect().y;a(t<=e&&r>e?"two":r<=e?"three":"one")};return t.addEventListener("scroll",(function(){r(e)})),function(){t.removeEventListener("scroll",(function(){r(e)}))}}),[]),void 0!==s&&s.forEach((function(e){"bun"===e.type?i.push(e):"sauce"===e.type?o.push(e):l.push(e)})),Object(p.jsxs)("section",{className:"".concat(qe.a.wrapper),children:[Object(p.jsx)("h1",{className:"".concat(qe.a.title," text text_type_main-large"),children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(p.jsxs)("div",{style:{display:"flex"},ref:d,children:[Object(p.jsx)(u.Tab,{value:"one",active:"one"===r,onClick:function(){a("one"),j.current.scrollIntoView({behavior:"smooth"})},children:"\u0411\u0443\u043b\u043a\u0438"}),Object(p.jsx)(u.Tab,{value:"two",active:"two"===r,onClick:function(){a("two"),m.current.scrollIntoView({behavior:"smooth"})},children:"\u0421\u043e\u0443\u0441\u044b"}),Object(p.jsx)(u.Tab,{value:"three",active:"three"===r,onClick:function(){a("three"),b.current.scrollIntoView({behavior:"smooth"})},children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]}),Object(p.jsxs)("section",{ref:_,className:"".concat(qe.a.scrollArea),children:[Object(p.jsx)("h2",{className:"".concat(qe.a.subTitle," text text_type_main-medium"),ref:j,children:"\u0411\u0443\u043b\u043a\u0438"}),i.map((function(e,t){return Object(p.jsx)(We,{item:e},t)})),Object(p.jsx)("h2",{className:"".concat(qe.a.subTitle," text text_type_main-medium"),ref:m,children:"\u0421\u043e\u0443\u0441\u044b"}),o.map((function(e,t){return Object(p.jsx)(We,{item:e},t)})),Object(p.jsx)("h2",{className:"".concat(qe.a.subTitle," text text_type_main-medium"),ref:b,children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"}),l.map((function(e,t){return Object(p.jsx)(We,{item:e},t)}))]})]})},Ve=r(23),Qe=r(33),Ye=r.n(Qe),He=r(46),Xe=r.n(He),Ke=r(101),Ze=r.n(Ke),$e=function(e){var t=e.closeModal;return Object(p.jsx)("div",{onClick:function(){return t()},className:"".concat(Ze.a.modal__overlay)})},et=document.getElementById("react-modals"),tt=function(e){var t=e.title,r=e.closeModal,c=e.children,a=Object(n.useCallback)((function(e){27===e.keyCode&&r()}),[r]);return Object(n.useEffect)((function(){return document.addEventListener("keydown",a,!1),function(){document.removeEventListener("keydown",a,!1)}}),[a]),s.a.createPortal(Object(p.jsxs)("div",{id:"modal",className:"".concat(Xe.a.modal__wrapper),children:[Object(p.jsx)($e,{closeModal:r}),Object(p.jsxs)("div",{className:"".concat(Xe.a.modal," p-10"),children:[Object(p.jsxs)("header",{className:"".concat(Xe.a.modal__header),children:[t&&Object(p.jsx)("h1",{className:"text text_type_main-medium",children:t}),Object(p.jsx)("div",{id:"closeModalIcon",children:Object(p.jsx)(u.CloseIcon,{type:"primary",onClick:r})})]}),Object(p.jsx)("main",{className:"".concat(Xe.a.modal__card),children:c})]})]}),et)},rt=r(31),nt=r.n(rt),ct=r.p+"static/media/done.516856c7.png",at=function(){var e=O((function(e){return e.ingredients.order})),t=O((function(e){return e.ingredients.sendOrderRequest})),r=O((function(e){return e.ingredients.sendOrderSuccess}));return t?Object(p.jsx)("span",{className:"".concat(nt.a.text," text text_type_main-medium"),children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):r?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{className:"".concat(nt.a.title," text text_type_digits-large  mt-5 mb-8"),children:e}),Object(p.jsx)("span",{className:"".concat(nt.a.text," text text_type_main-medium"),children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(p.jsx)("img",{className:"".concat(nt.a.image," mt-10 mb-10"),src:ct,alt:"\u0417\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(p.jsx)("span",{className:"".concat(nt.a.text," text text_type_main-default"),children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(p.jsx)("span",{className:"".concat(nt.a.text," mt-8 text text_type_main-default text_color_inactive"),children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{className:"".concat(nt.a.title," text text_type_digits-large  mt-5 mb-8"),children:"\u041e\u0448\u0438\u0431\u043a\u0430!"}),Object(p.jsx)("span",{className:"".concat(nt.a.text," text text_type_main-medium"),children:"\u0421\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441 \u043d\u0430\u043c\u0438"})]})},st=r(200),it=function(e){var t=e.item,r=e.id,c=e.index,a=e.deleteItem,s=e.moveCard,i=Object(n.useRef)(null),o=Object(st.a)({accept:Ge,collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e,t){var r;if(i.current){var n=e.index,a=c;if(n!==a){var o=null===(r=i.current)||void 0===r?void 0:r.getBoundingClientRect(),l=(o.bottom-o.top)/2,d=t.getClientOffset().y-o.top;n<a&&d<l||n>a&&d>l||(s(n,a),e.index=a)}}}}),l=Object(K.a)(o,2),d=l[0].handlerId,_=l[1],j=Object(ze.a)({type:Ge,item:function(){return{id:r,index:c}},collect:function(e){return{isDragging:e.isDragging()}}}),m=Object(K.a)(j,2),b=m[0].isDragging?0:1;return(0,m[1])(_(i)),Object(p.jsxs)("div",{ref:i,"data-handler-id":d,style:{opacity:b},id:t._id,onClick:function(){return a(t)},className:"mt-2 mb-2 ".concat(Ye.a.item),children:[Object(p.jsx)(u.DragIcon,{type:"primary"}),Object(p.jsx)(u.ConstructorElement,{isLocked:!1,text:t.name,price:t.price,thumbnail:t.image})]})},ot=function(){var e=O((function(e){return e.ingredients.totalPrice})),t=O((function(e){return e.ingredients.currentIngredients})),r=O((function(e){return e.ingredients.isBunAdded})),c=O((function(e){return e.ingredients.bun})),a=x(),s=Object(n.useState)(!1),i=Object(K.a)(s,2),o=i[0],l=i[1],_=O((function(e){return e.ingredients.order})),j=O((function(e){return e.ingredients.counterIngredients})),m=O((function(e){return e.profile.user})),b=O((function(e){return e.profile.isAuthenticated})),f=Object(d.g)(),g=Object(n.useCallback)((function(e,r){var n=t[e],c=Object(Ve.a)(t);c.splice(e,1),c.splice(r,0,n),a({type:V,newCards:c})}),[a,t]);function v(e){"bun"===e.type?a({type:J,item:e,price:e.price}):a({type:z,item:e,price:e.price}),function(e){var t=Object(Ve.a)(j),r=t.findIndex((function(t){return t._id===e._id})),n=t[r].counter;if("bun"===e.type){var c=t.findIndex((function(t){return"bun"===t.type&&t.name!==e.name}));t[c].counter=0,n=2}else void 0!==n&&n>=1?n+=1:n=1;t[r]=Object(h.a)(Object(h.a)({},t[r]),{},{counter:n}),a({type:Q,copiedCounterArray:t})}(e)}function y(e){var r=t.findIndex((function(t){return t._id===e._id}));a({type:W,elemIndex:r,price:e.price}),function(e){var t=Object(Ve.a)(j),r=t.findIndex((function(t){return t._id===e._id})),n=t[r].counter-1;t[r]=Object(h.a)(Object(h.a)({},t[r]),{},{counter:n}),a({type:Y,copiedCounterArray:t})}(e)}var N=Object(st.a)({accept:Ge,drop:function(e,t){e.hasOwnProperty("name")&&v(e)},collect:function(e){return{isOver:!!e.isOver()}}}),S=Object(K.a)(N,2),k=S[0].isOver,E=S[1];return Object(p.jsxs)("div",{id:"burgerConstructor",ref:E,style:{border:k?"5px solid red":"5px solid transparent"},className:"".concat(Ye.a.wrapper),children:[r&&Object(p.jsx)("div",{className:"mt-2 mb-2 ".concat(Ye.a.item," ml-8"),children:Object(p.jsx)(u.ConstructorElement,{type:"top",isLocked:!0,text:"".concat(c.name," (\u0432\u0435\u0440\u0445)"),price:c.price,thumbnail:c.image})},"bun-top"+c._id),Object(p.jsx)("section",{className:" ".concat(Ye.a.scrollArea," mt-2 mb-2"),children:t.length>0&&t.map((function(e,t){return Object(p.jsx)(it,{moveCard:g,deleteItem:y,item:e,index:t},t+e._id)}))}),r&&Object(p.jsx)("div",{className:"mt-2 mb-2 ".concat(Ye.a.item," ml-8"),children:Object(p.jsx)(u.ConstructorElement,{type:"bottom",isLocked:!0,text:"".concat(c.name," (\u043d\u0438\u0437)"),price:c.price,thumbnail:c.image})},"bun-bottom"+c._id),Object(p.jsxs)("div",{className:"mt-10 ".concat(Ye.a.priceCard),children:[Object(p.jsx)("span",{className:"".concat(Ye.a.price," text text_type_main-large"),children:e&&e}),Object(p.jsx)(u.CurrencyIcon,{type:"primary"}),Object(p.jsx)(u.Button,{onClick:function(){return function(){var e=t.map((function(e){return e._id}));if(!b&&Object.keys(m).length<=0)f.push({pathname:"/login"});else if(r&&void 0===e)a(H([c._id])),l(!0);else if(r&&void 0!==e){var n=e.concat(c._id);a(H(n)),l(!0)}else alert("\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0411\u0443\u043b\u043a\u0443 \u0432 \u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437")}()},type:"primary",size:"medium",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]}),void 0!==_&&!0===o&&Object(p.jsx)(tt,{closeModal:function(){l(!1)},children:Object(p.jsx)(at,{})})]})},lt=r(198),dt=r(103),ut=function(){return Object(p.jsx)("main",{className:"".concat(Be.a.main),children:Object(p.jsxs)(lt.a,{backend:dt.a,children:[Object(p.jsx)(Je,{}),Object(p.jsx)(ot,{})]})})},_t=r(13),jt=r.n(_t),mt=function(){var e=x(),t=O((function(e){return e.orders.total})),r=O((function(e){return e.orders.totalToday})),c=O((function(e){return e.orders.orders})),a=Object(n.useMemo)((function(){return c.filter((function(e){return"done"===e.status})).slice(0,5)}),[c]),s=Object(n.useMemo)((function(){return c.filter((function(e){return"pending"===e.status})).slice(0,10)}),[c]);return Object(n.useEffect)((function(){return e({type:Ee,payload:"".concat(S,"/all")}),function(){e({type:Te})}}),[e]),Object(p.jsxs)("div",{className:"".concat(jt.a.wrapper),children:[Object(p.jsx)("h1",{className:"mt-10 text text_type_main-large",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(p.jsxs)("div",{className:"".concat(jt.a.feed__wrapper),children:[Object(p.jsx)("ul",{className:"".concat(jt.a.feed__list),children:c.map((function(e,t){return Object(p.jsx)("li",{className:"".concat(jt.a.feed__listItem," mb-4"),children:Object(p.jsx)(Ae,{_id:e._id,createdAt:e.createdAt,updatedAt:e.updatedAt,status:e.status,number:e.number,name:e.name,ingredients:e.ingredients})},e._id+t)}))}),Object(p.jsxs)("div",{className:"".concat(jt.a.tracker," ml-15"),children:[Object(p.jsxs)("div",{className:"".concat(jt.a.tracker__ordersWrapper),children:[Object(p.jsxs)("div",{className:"".concat(jt.a.tracker__orders," mr-9"),children:[Object(p.jsx)("span",{className:"text text_type_main-medium ".concat(jt.a.tracker__orderTitle," mb-6 "),children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(p.jsx)("ul",{className:"".concat(jt.a.tracker__orderList),children:a.map((function(e,t){return Object(p.jsx)("li",{className:"text text_type_main-default ".concat(jt.a.tracker__orderListItem," ").concat(jt.a.tracker__orderListItemDone," mb-2"),children:e.number},e._id+t)}))})]}),Object(p.jsxs)("div",{className:"".concat(jt.a.tracker__orders),children:[Object(p.jsx)("span",{className:"text text_type_main-medium ".concat(jt.a.tracker__orderTitle," mb-6"),children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),Object(p.jsx)("ul",{className:"".concat(jt.a.tracker__orderList),children:s.map((function(e,t){return Object(p.jsx)("li",{className:"text text_type_main-default ".concat(jt.a.tracker__orderListItem," mb-2"),children:e.number},e._id+t)}))})]})]}),Object(p.jsxs)("div",{className:"".concat(jt.a.tracker__info," mt-15"),children:[Object(p.jsx)("span",{className:"text text_type_main-medium ".concat(jt.a.tracker__infoTitle),children:"\u0412\u044b\u043f\u043e\u043b\u0435\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(p.jsx)("span",{className:" text text_type_digits-large ".concat(jt.a.tracker__infoText),children:t})]}),Object(p.jsxs)("div",{className:"".concat(jt.a.tracker__info," mt-15"),children:[Object(p.jsx)("span",{className:"text text_type_main-medium ".concat(jt.a.tracker__infoTitle),children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(p.jsx)("span",{className:"text text_type_digits-large ".concat(jt.a.tracker__infoText),children:r})]})]})]})]})},pt=function(){return Object(p.jsxs)("div",{className:"".concat($.a.container),children:[Object(p.jsx)("h1",{className:"text text_type_main-medium",children:"Oops! 404 Error"}),Object(p.jsx)("p",{className:"text text_type_main-default mt-6",children:"The page you requested does not exist"})]})},bt=r(104),ft=["children"],Ot=function(e){var t=e.children,r=Object(bt.a)(e,ft),n=O((function(e){return e.profile.isAuthenticated})),c=g("accessToken");return Object(p.jsx)(d.b,Object(h.a)(Object(h.a)({},r),{},{render:function(e){var r=e.location;return n||c?t:Object(p.jsx)(d.a,{to:{pathname:"/login",state:{from:r}}})}}))},xt=r(17),ht=r.n(xt),gt=function(){var e=Object(d.i)().id,t=O((function(e){return e.ingredients.ingredients})),r=O((function(e){return e.ingredients})),c=Object(n.useMemo)((function(){return t.find((function(t){return t._id===e}))}),[t,e]);return r?c?Object(p.jsxs)("div",{className:ht.a.container,children:[Object(p.jsx)("img",{className:"".concat(ht.a.image," mb-4"),src:c.image_large,alt:c.name}),Object(p.jsx)("h1",{className:"".concat(ht.a.title," text text_type_main-large"),children:c.name}),Object(p.jsxs)("div",{className:"".concat(ht.a.nutrients," mt-8"),children:[Object(p.jsxs)("div",{className:"".concat(ht.a.nutrient__column," ml-3 mr-3"),children:[Object(p.jsx)("span",{className:"".concat(ht.a.text," text text_type_main-default text_color_inactive"),children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438"}),Object(p.jsx)("span",{id:"calories",className:"".concat(ht.a.text," text text_type_digits-default text_color_inactive"),children:c.calories})]}),Object(p.jsxs)("div",{className:"".concat(ht.a.nutrient__column," ml-3 mr-3"),children:[Object(p.jsx)("span",{className:"".concat(ht.a.text," text text_type_main-default text_color_inactive"),children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(p.jsx)("span",{id:"proteins",className:"".concat(ht.a.text," text text_type_digits-default text_color_inactive"),children:c.proteins})]}),Object(p.jsxs)("div",{className:"".concat(ht.a.nutrient__column," ml-3 mr-3"),children:[Object(p.jsx)("span",{className:"".concat(ht.a.text," text text_type_main-default text_color_inactive"),children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(p.jsx)("span",{id:"fats",className:"".concat(ht.a.text," text text_type_digits-default text_color_inactive"),children:c.fat})]}),Object(p.jsxs)("div",{className:"".concat(ht.a.nutrient__column," ml-3 mr-3"),children:[Object(p.jsx)("span",{className:"".concat(ht.a.text," text text_type_main-default text_color_inactive"),children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(p.jsx)("span",{id:"carbs",className:"".concat(ht.a.text," text text_type_digits-default text_color_inactive"),children:c.carbohydrates})]})]})]}):Object(p.jsx)("div",{children:"Wait a little bit"}):null},vt=function(){var e=Object(d.h)(),t=Object(d.i)().id,r=x(),c=O((function(e){return e.orders.orders})),a=O((function(e){return e.ingredients.ingredients})),s=Object(n.useMemo)((function(){return c.find((function(e){return e._id===t}))}),[t,c]),i=function(e){var t=[];return void 0!==s&&s.ingredients.map((function(r){e.forEach((function(e){e._id===r&&t.push(e)}))})),t}(a),o=Object(n.useMemo)((function(){var e=0;return i.forEach((function(t){return e+=t.price})),e}),[i]);return Object(n.useEffect)((function(){return e.state||r({type:Ee,payload:"".concat(S,"/all")}),function(){e.state||r({type:Te})}}),[r,e.state]),s?Object(p.jsxs)("div",{className:"".concat(Me.a.wrapper," ").concat(Me.a.wrapper__fullMode),children:[Object(p.jsx)("span",{className:"text text_type_main-medium ".concat(Me.a.order__number," ").concat(Me.a.order__numberFM),children:"#".concat(null===s||void 0===s?void 0:s.number)}),Object(p.jsx)("span",{className:"text text_type_main-medium ".concat(Me.a.order__name," ").concat(Me.a.order__nameFM," mt-10"),children:null===s||void 0===s?void 0:s.name}),"done"===(null===s||void 0===s?void 0:s.status)&&Object(p.jsx)("span",{className:"text text_type_main-default ".concat(Me.a.order__statusDone," mt-3"),children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"}),"done"!==(null===s||void 0===s?void 0:s.status)&&Object(p.jsx)("span",{className:"text text_type_main-default ".concat(Me.a.order__status," mt-3"),children:null===s||void 0===s?void 0:s.status}),Object(p.jsx)("span",{className:"text text_type_main-medium ".concat(Me.a.title," mt-15 mb-6"),children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(p.jsx)("div",{className:"".concat(Me.a.order__list," ").concat(Me.a.order__listFM," mt-6 mb-6 pr-4"),children:i.map((function(e,t){return Object(p.jsxs)("div",{className:"mb-6 ".concat(Me.a.order__listItem," ").concat(Me.a.order__listItemFM),children:[Object(p.jsx)("img",{alt:"ingredient",src:e.image_mobile,className:"".concat(Me.a.burgerItem__icon)}),Object(p.jsx)("span",{className:"ml-4 text text_type_main-default ".concat(Me.a.burgerItem__name),children:e.name}),Object(p.jsxs)("div",{className:"".concat(Me.a.burgerItem__priceCard," mt-10 "),children:[Object(p.jsx)("span",{className:"text text_type_main-medium ".concat(Me.a.burgerItem__price," ml-2 mr-2"),children:e.price}),Object(p.jsx)(u.CurrencyIcon,{type:"primary"})]})]},e._id+t)}))}),Object(p.jsx)("span",{className:"mt-10 text text_type_main-default text_color_inactive ".concat(Me.a.order__date," ").concat(Me.a.order__dateFM),children:y(s.createdAt)}),Object(p.jsxs)("div",{className:"".concat(Me.a.order__price," ").concat(Me.a.order__priceFM," mt-10 "),children:[Object(p.jsx)("span",{className:"text text_type_main-medium ".concat(Me.a.order__priceNumber),children:o}),Object(p.jsx)(u.CurrencyIcon,{type:"primary"})]})]}):null},yt=function(){var e,t,r,c,a,s,i=x(),u=Object(d.g)(),_=Object(d.h)(),j=null===(e=_.state)||void 0===e?void 0:e.backgroundIngredients,m=null===(t=_.state)||void 0===t?void 0:t.backgroundFeed,f=null===(r=_.state)||void 0===r?void 0:r.backgroundProfile,h=null===(c=_.state)||void 0===c?void 0:c.prevPath,g=O((function(e){return e.profile.isAuthenticated})),y=O((function(e){return e.profile.getUserError})),N=Object(n.useCallback)(Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g||i((console.log("get user thunk "),function(e){e({type:de}),M().then((function(t){console.log("get user body ",t),t&&t.success?e({type:le,user:t.user}):(console.log("in get user error statement",t),e({type:ue}))})).catch((function(t){console.log("in error statement catch get user",t),e({type:ue})}))})),y&&i((function(e){e({type:me});var t=localStorage.getItem("refreshToken");A(t).then((function(t){console.log("refreshToken ",t),t&&t.success?(v("accessToken",t.accessToken.split("Bearer ")[1],{expires:1200}),localStorage.setItem("refreshToken",t.refreshToken),M().then((function(t){!0===t.success?e({type:pe,user:t.user}):(console.log("refreshToken error ",t),e({type:be}))}))):(console.log("in error statement",t),e({type:be}))})).catch((function(t){e({type:be})}))}));case 2:case"end":return e.stop()}}),e)}))),[i,g,y]);function S(){h&&h.length>0?u.replace(h):u.replace("/")}return Object(n.useEffect)((function(){N(),i((function(e){e({type:F}),E().then((function(t){t&&t.success?e({type:P,ingredients:t.data}):e({type:B})})).catch((function(t){console.log(t),e({type:B})}))}))}),[i,N]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(b,{}),j&&Object(p.jsx)(d.b,{path:"/ingredients/:id",children:Object(p.jsx)(tt,{closeModal:S,title:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",children:Object(p.jsx)(gt,{})})}),m&&Object(p.jsx)(d.b,{path:"/feed/:id",children:Object(p.jsx)(tt,{closeModal:S,children:Object(p.jsx)(vt,{})})}),f&&Object(p.jsx)(d.b,{path:"/profile/orders/:id",children:Object(p.jsx)(tt,{closeModal:S,children:Object(p.jsx)(vt,{})})}),Object(p.jsxs)(d.d,{location:null!==(a=null!==(s=null!==j&&void 0!==j?j:m)&&void 0!==s?s:f)&&void 0!==a?a:_,children:[Object(p.jsx)(d.b,{path:"/",exact:!0,children:Object(p.jsx)(ut,{})}),Object(p.jsx)(d.b,{path:"/login",exact:!0,children:Object(p.jsx)(he,{})}),Object(p.jsx)(d.b,{path:"/register",exact:!0,children:Object(p.jsx)(ve,{})}),Object(p.jsx)(d.b,{path:"/forgot-password",exact:!0,children:Object(p.jsx)(ye,{})}),Object(p.jsx)(d.b,{path:"/reset-password",exact:!0,children:Object(p.jsx)(Ne,{})}),Object(p.jsx)(Ot,{path:"/profile",exact:!0,children:Object(p.jsx)(Fe,{})}),Object(p.jsx)(d.b,{path:"/ingredients/:id",children:Object(p.jsx)(gt,{})}),Object(p.jsx)(d.b,{path:"/feed",exact:!0,children:Object(p.jsx)(mt,{})}),Object(p.jsx)(d.b,{path:"/feed/:id",children:Object(p.jsx)(vt,{})}),Object(p.jsx)(Ot,{path:"/profile/orders",exact:!0,children:Object(p.jsx)(Fe,{})}),Object(p.jsx)(Ot,{path:"/profile/orders/:id",children:Object(p.jsx)(vt,{})}),Object(p.jsx)(d.b,{children:Object(p.jsx)(pt,{})})]})]})},Nt=r(32),St={ingredients:[],currentIngredients:[],ingredient:{},order:0,ingredientsRequest:!1,ingredientsSuccess:!1,ingredientsFailed:!1,totalPrice:0,bun:{},isBunAdded:!1,sendOrderRequest:!1,sendOrderSuccess:!1,sendOrderFailed:!1,counterIngredients:[]},kt={savePasswordRequest:!1,savePasswordSuccess:!1,savePasswordFailed:!1,createUserRequest:!1,createUserSuccess:!1,createUserFailed:!1,loginUserRequest:!1,loginUserSuccess:!1,loginUserFailed:!1,user:{},isAuthenticated:!1,errorMessage:"",getUserRequest:!1,getUserSuccess:!1,getUserError:!1,updateUserSuccess:!1,refreshTokenRequest:!1,refreshTokenSuccess:!1,refreshTokenFailed:!1,logoutSuccess:!1},Et={total:0,totalToday:0,orders:[],wsConnected:!1},Ct=Object(Nt.b)({ingredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(h.a)(Object(h.a)({},e),{},{ingredientsRequest:!0});case P:return Object(h.a)(Object(h.a)({},e),{},{ingredientsSuccess:!0,ingredientsRequest:!1,ingredients:Object(Ve.a)(t.ingredients),counterIngredients:Object(Ve.a)(t.ingredients)});case B:return Object(h.a)(Object(h.a)({},e),{},{ingredientsFailed:!0,ingredientsRequest:!1});case Q:return Object(h.a)(Object(h.a)({},e),{},{counterIngredients:Object(Ve.a)(t.copiedCounterArray)});case Y:return Object(h.a)(Object(h.a)({},e),{},{counterIngredients:t.copiedCounterArray});case L:return Object(h.a)(Object(h.a)({},e),{},{sendOrderRequest:!0});case q:return Object(h.a)(Object(h.a)({},e),{},{sendOrderSuccess:!0,sendOrderRequest:!1,order:t.order,currentIngredients:[],bun:{},isBunAdded:!1,totalPrice:0,counterIngredients:Object(Ve.a)(e.counterIngredients).map((function(e){return Object(h.a)(Object(h.a)({},e),{},{counter:0})}))});case G:return Object(h.a)(Object(h.a)({},e),{},{sendOrderFailed:!0,sendOrderRequest:!1});case z:return Object(h.a)(Object(h.a)({},e),{},{currentIngredients:[].concat(Object(Ve.a)(e.currentIngredients),[t.item]),totalPrice:e.totalPrice+t.price});case W:return Object(h.a)(Object(h.a)({},e),{},{currentIngredients:[].concat(Object(Ve.a)(e.currentIngredients.slice(0,t.elemIndex)),Object(Ve.a)(e.currentIngredients.slice(t.elemIndex+1))),totalPrice:e.totalPrice-t.price});case J:return Object(h.a)(Object(h.a)({},e),{},{bun:Object(h.a)({},t.item),isBunAdded:!0,totalPrice:e.totalPrice+2*t.price});case V:return Object(h.a)(Object(h.a)({},e),{},{currentIngredients:Object(Ve.a)(t.newCards)});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object(h.a)(Object(h.a)({},e),{},{savePasswordRequest:!0});case te:return Object(h.a)(Object(h.a)({},e),{},{savePasswordRequest:!1,savePasswordSuccess:!0,isAuthenticated:!0});case re:return Object(h.a)(Object(h.a)({},e),{},{savePasswordRequest:!1,savePasswordFailed:!0,isAuthenticated:!1,errorMessage:t.errorMessage});case ne:return Object(h.a)(Object(h.a)({},e),{},{createUserRequest:!0,isAuthenticated:!1});case ce:return Object(h.a)(Object(h.a)({},e),{},{createUserRequest:!1,createUserSuccess:!0,user:t.user,isAuthenticated:!0});case ae:return Object(h.a)(Object(h.a)({},e),{},{createUserRequest:!1,createUserFailed:!0,isAuthenticated:!1,errorMessage:t.errorMessage});case se:return Object(h.a)(Object(h.a)({},e),{},{loginUserRequest:!0,isAuthenticated:!1});case ie:return Object(h.a)(Object(h.a)({},e),{},{loginUserRequest:!1,loginUserSuccess:!0,isAuthenticated:!0,user:t.user});case oe:return Object(h.a)(Object(h.a)({},e),{},{loginUserRequest:!1,loginUserFailed:!0,isAuthenticated:!1,errorMessage:t.errorMessage});case le:return Object(h.a)(Object(h.a)({},e),{},{getUserSuccess:!0,user:t.user,isAuthenticated:!0});case de:return Object(h.a)(Object(h.a)({},e),{},{getUserRequest:!0});case ue:return Object(h.a)(Object(h.a)({},e),{},{getUserRequest:!1,getUserError:!0,isAuthenticated:!1});case _e:return Object(h.a)(Object(h.a)({},e),{},{updateUserSuccess:!0,user:Object(h.a)({},t.user)});case je:return Object(h.a)(Object(h.a)({},e),{},{updateUserSuccess:!1,errorMessage:t.errorMessage});case me:return Object(h.a)(Object(h.a)({},e),{},{refreshTokenRequest:!0});case pe:return Object(h.a)(Object(h.a)({},e),{},{refreshTokenRequest:!1,refreshTokenSuccess:!0,isAuthenticated:!0,user:Object(h.a)({},t.user)});case be:return Object(h.a)(Object(h.a)({},e),{},{refreshTokenRequest:!1,refreshTokenFailed:!0,isAuthenticated:!1,errorMessage:t.errorMessage});case fe:return Object(h.a)(Object(h.a)({},e),{},{logoutSuccess:!0,isAuthenticated:!1,user:{}});default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return Object(h.a)(Object(h.a)({},e),{},{wsConnected:!1});case Ce:return Object(h.a)(Object(h.a)({},e),{},{error:void 0,wsConnected:!0});case we:return Object(h.a)(Object(h.a)({},e),{},{error:t.payload,wsConnected:!1});case Te:return Object(h.a)(Object(h.a)({},e),{},{error:void 0,wsConnected:!1});case Re:return Object(h.a)(Object(h.a)({},e),{},{error:void 0,total:t.payload.total,totalToday:t.payload.totalToday,orders:t.payload.orders});default:return e}}}),wt=r(102),Tt={WSStart:Ee,WSSend:"WS_CONNECTION_SEND_MESSAGE",WSonOpen:Ce,WSonClose:Te,WSonError:we,WSonMessage:Re},Rt=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Nt.c)(Object(Nt.a)(wt.a,function(e){return function(t){var r=null;return function(n){return function(c){var a=t.dispatch,s=(t.getState,c.type),i=c.payload,o=e.WSStart,l=(e.WSSend,e.WSonOpen),d=e.WSonClose,u=e.WSonError,_=e.WSonMessage;s===o&&(r=new WebSocket(i)),r&&(r.onopen=function(e){return a({type:l,payload:e})},r.onerror=function(e){return a({type:u,payload:e})},r.onclose=function(e){return a({type:d,payload:e})},r.onmessage=function(e){return a({type:_,payload:JSON.parse(e.data)})}),n(c)}}}}(Tt))),It=Object(Nt.d)(Ct,Rt);s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(m.a,{children:Object(p.jsx)(f.a,{store:It,children:Object(p.jsx)(yt,{})})})}),document.getElementById("root"))},24:function(e,t,r){e.exports={header:"app-header_header__1xxYR",wrapper:"app-header_wrapper__1s1xa",link:"app-header_link__cuxtd",linkText:"app-header_linkText__DQC6Z",logo:"app-header_logo__1pJ2y",linkActive:"app-header_linkActive__3_glw"}},29:function(e,t,r){e.exports={wrapper:"burger-ingredients_wrapper__1Jgim",title:"burger-ingredients_title__1r4YB",scrollArea:"burger-ingredients_scrollArea___Ptm4",subTitle:"burger-ingredients_subTitle__1diNR",card:"burger-ingredients_card__IjgyP",text:"burger-ingredients_text__3vfxs",price:"burger-ingredients_price__wyoF9 burger-ingredients_text__3vfxs"}},31:function(e,t,r){e.exports={"all-texts":"order-details_all-texts__vcuN1",title:"order-details_title__2dYYc order-details_all-texts__vcuN1",image:"order-details_image__yqmoi",text:"order-details_text__39Jl4 order-details_all-texts__vcuN1"}},33:function(e,t,r){e.exports={wrapper:"burger-constructor_wrapper__2EaEB",scrollArea:"burger-constructor_scrollArea__sJp7B",priceCard:"burger-constructor_priceCard__Mhyoo",item:"burger-constructor_item__2oXto"}},46:function(e,t,r){e.exports={modal__wrapper:"modal_modal__wrapper__2pgnt",modal:"modal_modal__1o7Qk",modal__header:"modal_modal__header__3ap6f",modal__card:"modal_modal__card__2s-XX"}},6:function(e,t,r){e.exports={wrapper:"orders-feed_wrapper__2qlzy",wrapper__listMode:"orders-feed_wrapper__listMode__3Rl0E",order__date:"orders-feed_order__date__3fXON",order__name:"orders-feed_order__name__3iBYm",order__list:"orders-feed_order__list__LmKda",burgerItem__iconCM:"orders-feed_burgerItem__iconCM__dGNda",order__priceNumber:"orders-feed_order__priceNumber__1FiiD",order__price:"orders-feed_order__price__2C2D6",wrapper__fullMode:"orders-feed_wrapper__fullMode__2f6Kz",order__numberFM:"orders-feed_order__numberFM__1fbYI",order__nameFM:"orders-feed_order__nameFM__284UA",order__statusDone:"orders-feed_order__statusDone__3vURd",order__status:"orders-feed_order__status__2Ht5V",title:"orders-feed_title__1Iuvb",order__listFM:"orders-feed_order__listFM__8Dw2X",order__listItemFM:"orders-feed_order__listItemFM__1QQjD",burgerItem__priceCard:"orders-feed_burgerItem__priceCard__yba2T",order__dateFM:"orders-feed_order__dateFM__1Mim3",order__priceFM:"orders-feed_order__priceFM__75CZF",order__listItemCM:"orders-feed_order__listItemCM__3ULEc"}},9:function(e,t,r){e.exports={wrapper:"login_wrapper__4dx3-",title:"login_title__IkVCF",form:"login_form__1RwmY",text__wrapper:"login_text__wrapper__nRFAh",error:"login_error__1DfJ_",container:"login_container__OaTI7"}},99:function(e,t,r){e.exports={main:"app_main__2CHFW"}}},[[193,1,2]]]);
//# sourceMappingURL=main.1beb47e5.chunk.js.map